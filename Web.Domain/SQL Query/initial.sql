CREATE TABLE [dbo].[Roles] (
    [RoleName] [nvarchar](128) NOT NULL,
    [Name] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.Roles] PRIMARY KEY ([RoleName])
)
CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[Roles]([Name])
CREATE TABLE [dbo].[UserRoles] (
    [UserId] [nvarchar](128) NOT NULL,
    [RoleId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.UserRoles] PRIMARY KEY ([UserId], [RoleId])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserRoles]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[UserRoles]([RoleId])
CREATE TABLE [dbo].[Tags] (
    [ID] [uniqueidentifier] NOT NULL DEFAULT newsequentialid(),
    [Name] [nvarchar](max),
    [CreatedBy] [nvarchar](max),
    [DateCreated] [datetime] NOT NULL,
    [UpdatedBy] [nvarchar](max),
    [UpdatedDate] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Tags] PRIMARY KEY ([ID])
)
CREATE TABLE [dbo].[Videos] (
    [ID] [uniqueidentifier] NOT NULL DEFAULT newsequentialid(),
    [Name] [nvarchar](max),
    [ImageUrl] [nvarchar](max),
    [Number] [int] NOT NULL,
    [Price] [decimal](18, 2) NOT NULL,
    [CreatedBy] [nvarchar](max),
    [DateCreated] [datetime] NOT NULL,
    [UpdatedBy] [nvarchar](max),
    [UpdatedDate] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Videos] PRIMARY KEY ([ID])
)
CREATE TABLE [dbo].[Users] (
    [UserId] [nvarchar](128) NOT NULL,
    [Email] [nvarchar](256),
    [EmailConfirmed] [bit] NOT NULL,
    [PasswordHash] [nvarchar](max),
    [SecurityStamp] [nvarchar](max),
    [PhoneNumber] [nvarchar](max),
    [PhoneNumberConfirmed] [bit] NOT NULL,
    [TwoFactorEnabled] [bit] NOT NULL,
    [LockoutEndDateUtc] [datetime],
    [LockoutEnabled] [bit] NOT NULL,
    [AccessFailedCount] [int] NOT NULL,
    [UserName] [nvarchar](256) NOT NULL,
    CONSTRAINT [PK_dbo.Users] PRIMARY KEY ([UserId])
)
CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[Users]([UserName])
CREATE TABLE [dbo].[UserClaims] (
    [UserClaimId] [int] NOT NULL IDENTITY,
    [UserId] [nvarchar](128) NOT NULL,
    [ClaimType] [nvarchar](max),
    [ClaimValue] [nvarchar](max),
    CONSTRAINT [PK_dbo.UserClaims] PRIMARY KEY ([UserClaimId])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserClaims]([UserId])
CREATE TABLE [dbo].[UserLogins] (
    [LoginProvider] [nvarchar](128) NOT NULL,
    [ProviderKey] [nvarchar](128) NOT NULL,
    [UserId] [nvarchar](128) NOT NULL,
    CONSTRAINT [PK_dbo.UserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
)
CREATE INDEX [IX_UserId] ON [dbo].[UserLogins]([UserId])
CREATE TABLE [dbo].[VideoTags] (
    [VideoID] [uniqueidentifier] NOT NULL,
    [TagID] [uniqueidentifier] NOT NULL,
    CONSTRAINT [PK_dbo.VideoTags] PRIMARY KEY ([VideoID], [TagID])
)
CREATE INDEX [IX_VideoID] ON [dbo].[VideoTags]([VideoID])
CREATE INDEX [IX_TagID] ON [dbo].[VideoTags]([TagID])
ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [FK_dbo.UserRoles_dbo.Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[Roles] ([RoleName]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserRoles] ADD CONSTRAINT [FK_dbo.UserRoles_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserId]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserClaims] ADD CONSTRAINT [FK_dbo.UserClaims_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserId]) ON DELETE CASCADE
ALTER TABLE [dbo].[UserLogins] ADD CONSTRAINT [FK_dbo.UserLogins_dbo.Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[Users] ([UserId]) ON DELETE CASCADE
ALTER TABLE [dbo].[VideoTags] ADD CONSTRAINT [FK_dbo.VideoTags_dbo.Videos_VideoID] FOREIGN KEY ([VideoID]) REFERENCES [dbo].[Videos] ([ID]) ON DELETE CASCADE
ALTER TABLE [dbo].[VideoTags] ADD CONSTRAINT [FK_dbo.VideoTags_dbo.Tags_TagID] FOREIGN KEY ([TagID]) REFERENCES [dbo].[Tags] ([ID]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201803141420008_initial', N'Web.Domain.Migrations.Configuration',  0x1F8B0800000000000400ED5DDB6EE4B8117D0F907F10FA2909BCDDBE640613A3BD0B4F7BBC3132BE60DA9EE46DC096D86D6174E99528AF8D60BF2C0FF9A4FC42488992789548497DF1C25860E116C953C562155924AB38FFFBCF7FA73F3D8781F30493D48FA3B3D1D1F870E4C0C88D3D3F5A9D8D32B4FCE1C3E8A71FFFF887E9272F7C76BE96F54E483DDC324ACF468F08AD4F2793D47D842148C7A1EF26711A2FD1D88DC309F0E2C9F1E1E1DF2647471388214618CB71A65FB208F921CC7FE09FB33872E11A6520B88E3D18A4F43B2E99E7A8CE0D0861BA062E3C1BFD132EC6177108FC684C9A2510C191731EF800B33287C172E480288A114098D1D38714CE511247ABF91A7F00C1FDCB1AE27A4B10A49076E0B4AE6EDA97C363D29749DDB08472B31461D6EC008F4EA8702662F34E221E55C2C3E2FB84C58C5E48AF73119E8DAE3C987FFA1207580022C1D3599090CA67A3EB8AC479BABE81685C361C1790970986FB354EBE8F59C403C7B8DD41A54CC7E343F2DF8133CB029425F02C82194A4070E0DC658BC077FF015FEEE3EF303A3B395A2C4F3EBC7B0FBC93F77F8527EFD89EE2BEE27ADC07FCE92E89D730C1BCC165D5FF9133E1DB4DC4865533A64D2115AC4BD82E46CE3578FE0CA3157AC41673FC61E45CFACFD02BBF50E57A887C6C46B8114A32FCF3260B02B00860553E69A449FEDF40F5F8DDFB41A8DE80277F950FBD401F1B4E928E9C2F30C84BD3477F5D981737DEDF68B5CB240EC96F5EBF8AD26FF3384B5CD299585BE51E242B8878EEA6935A798D549A400DAFD625EAFEAB36E154566F6555D2A12E965092D8B63594FC6E96AEB1C6DD83559392312B54DED487E918373970EA825A458E4C5524C2AC779AF12E3ACC7817A5AC7FCE7C4F2136A6DB731427F06718C10420E8DD01846012D556D973A2C37F1A0D6C3391590209731F5F364EE902D3A1D44A5AE4D3BD1FDA6BFDC3DADB12D79412E1D49E6BED1AF2D5F760AC5E44F2223CEDAFB8C5A3FE5AAD08E5A2C11495EB4927D3CD716C8D376FF466BE3B33DFAB10ACE043126C9CD04D162E605292B98AD0C9B1B5D5DE25BE5B5B1174FD1060C6EF12FC17DD63E1A56AEE0202688FFE3693ED62262B26AA2EF398E8FC2AA6B8DE4EEFF00EEFFE3BBBAF651FF7092F174DF396E946CE80CA2C8E967E12D6E6FA31C62A0722FB190CA4291E5AEFEF207DDCB8C1CEA19B2558A1E60884EB8D53BB7B8C23C8CFF2DBA035D8D0DCFF1A5F02172FD99F22D2AA37DEE7D8FD1E67E85394CF980FC895274D438041D839775D98A6975899A1378BB308F55B8AC954B6EB83945900FCB0F92485B0F9ADAC271FA530C5DAB314B68E6A5D69E2F073BCF223030ECB7A1A0E8BE2660E691D5B0E09920183B49A86BFBCB499BDA2CA60EB723E1EC32FCE39ECEF7D85D619FC703B975D9D65E5C347886EFED48350FA0A826C68529DAC21B7FDE1AD2187DD7F6BC8D9C49F9FB0FF9F189DD1969531BC517DF5F16FBBCD099C6DDB1CB86E6E9BF876E6009DB99CA769ECFAB915286EE7E8DD0ACF3F76D49CF68B96A237E2650DEE1856747F8D551B7FC17D1B894A751B5DC00022E89CBBC5EDE50CA42EF06431E20E79168C5587793263F5A50DCFDC5F249A58D361421A01B2D349B1A5FA1192CDC28F5C7F0D825629092D0D9730D2F78A86587201D73022045B2561425C7D474318A8E80883D226A1E984D1B8664564CE3574E3AC3AE4A8C7979EB3B60DAA124EA12EF98D4B239845E7547E779B362B9D70B53A6FD9CE54AEBF8633EA906ED4D21482DAA2A9298461425D7B75BA0D5B536DB28C065DDC71ED8F3A0AFB3C0D67D423DCBC3AF282DAB63AF2C2785DEA586CA98DC65CD85FEF8F32F2BBFADDF920B294B6AD899C24F64C110B1719B741B8054CCA03C1F5FA62413EC267A4D83B62FEE8F631A59EB8A81104740E117F9054BBE34A3759F2517810516D9A006BD56A012DAE90249CDCEF69695A5EB34B8DA90FD6D29C86703576C14A26E54966232275452C60CBE3C74658BAA408B08CCAC9D86C1C1B53511FED26DA82D19EACEA59A584924D196DA1181C851E8A5324DF7103A1B0F799B23074BB82B67D01C374A9AC0DBD57EC04188082B7DE1D559EBDEB875FBB5530DE2C305DA0CA66A0002ADF5EA301651F86954C69742D925179ADC67E6B77C9086EA64632651F86950CB5B816C128FC27530FAABB58788767A019A33CC4AA56E8AA6C3A2982F4E987E94413CD3FBD06EBB51FAD98E87EFAC59917A1FDB31FE6F621EF618131715345E47BC56D4509C5095841A11493C69C5EFA498A2E00020B408EF0665E2855E3FC11CDDA5592625D0E79E4CA45ACAC4DFE2E5A28121C780745F6DC28C825EE5A487CBFFC6A4431F0EAE60E49B300014814B731B338C8C2A8EE4A719D2A6AA21EA3A8CFA2E810A613A11792CF29094DDA10F02360343EB24D0C355695EFD77DBCF4103A79971E3B2B719D17AF4729CF1EC5D157A3EC68E4347E88DD601107DB7E7C94ADB46674C10B528EE86C6A6D6E403A0426649085613E9B637141812C1A57608EC70406721A5B7FB6C62A42FF146845C1DEA82FF584FB2A70B1C9B357614DBB7D55E23A0498E3A2FA6AC10B8DFEE2B8A1DFCC5168942F0B423FBD19E62B374CDD2EBFBB17D0D303E8EEB1D9AFFC345E9505A19F2C31989047098C29B3B0382E2A95333CAEC41C51083D652185220B2ED900538E49B6A0139E46A2EA1AE614E49052165D2E3547560497B2D08AE20ED80A9EC532735445FC290BAC28B69805AB6054D142F77847A43DF2EA3E191627BFFD66440D86CDB49843D8CD8DC3ECAD98F83F6ED5AF3F5B62D1083F098C7EDF4BBDD21E1876D7ABE2E8BF9F5E6930F49310173AC7CF418DF17E7A4C2E1E8E772F1BE201F578764ABB69D5E08F17151B227AF760B0E7A13595FB1AC5FE9C1C96AAF253B99B0A591E469BA11C48B523CA2FA9CBC6560C692F698D18C21076EC8807BFF2E049E7BF62954A75AA7360E1BC774ACF5EDB9F78910E638B2A248BB2B001ECA0BDA408866352613CFF2598053E24CB7159E11A44FE12A6A808E01D1D1F1E1D0B8FC4ECCF832D9334F502C5D9B5EED5167EE08CA28F7527B7EDD1C175CBE2C6357A0289FB0812394AB6C7032735A874C37F1579F0F96CF4EFBCD5A953B2937F3E70AED287C8FF25C305F749069DDFE4D49E611E7C90AFF3F58CFEF62ADEEE3017F9D5BFBE154D0F9CDB049BD6A9732808BACBF0F32F7A58715334EDC18DD53B1F1D06B35FCA7E966BB49F6BDCD227CE436BA2CB00A6F7A7103CFF9945EAF4AC462F3445C239391E4283249CF7E24C91546EC899E5BB146FCAD6C0B4F008442F303E05D827AE439F671EBC8D3FF3F0665943ACDDC32DCDDDD7DB9E0B27F7A0801255F07BBABF1FB0F03B9885E2ED805E1AA27C1FA017A2E20D80A1F00611A12EC7BF0B9636BF5F6565269D55E7FB77614D9BEBDF65361633FDCD1DCAB2E50E77148AD34CF3A949738E69363F558D19C90FED00ECD7BE43CABEEEE7004B19D61670836651F7DB7EBEB2ECE4C1165345F2F160D8BBD47BBB6D47C76DAEFED453AEAB3C906C1FFD8A846EB762204C8AC14BD376492ED8EFC1458E60C1C3C673C6F7254DBC3E52DB6D76B8714EB6FAB6B6634A9615E53DC806575E9488B91BED89E01BD2A96A36931868CF1FEFAA43BAF83B93931A2BB5D15D6C59CECD5BD617D53D163362E26029C6E977A42BA6A3B74D4DD15E156E3BD5D8E221867D4A2FA6898C3B7E71A167366FA7B54B17C8B3CFF9EC16CF2BEC9392D15DDF8EDF51D88592E9A27AF659C9CC1F4DD8271DDBB513BE2B0D3376C177FE18829CA3288E2B8D8252458DB43D7A5084D89C8DBC05F1DF8B7DA93A475447A6D6132DA9BA8A8A9C3E2D552499BB681295FCAB0A5899332E62D28D8A844ABFAB70D5C9EC8D026A7D684127183B32D4EF68A445EBE8086A12CA9BA8D285A8912AADA3A3AA49D6560E965A0BEA22ED9029F561178F4428B3B355EF85B4CCDA0A14EDCB237D1E85A892D39BDE86D00453CAA7040CD7CAA74A34FB35B199EA8D945E9D2C33E71B3BA90ED014B7B60CAF0A36B7DA41D5666BD0172FB46A68ACCCDCACA509FA1F58109B78E0A2BF20B8895413A53EB020867FCFA2BF18869CDC2CDEAF90E394B12BC7FC8395D89D4CFD550D41FEF9CA08BA9C1357D5B98A9671E94B0A1C955584CB866B8880873DBCF304F94BE0225C4C6ECAF3A769F3BB4612AFB180DE55749BA17586709761B808B87B38E29336D1CF1FE9E0799EDEAEF3C7D587E80266D3271106B7D1C7CC0FBC8AEF4BC54587068238BBF4169A8C2522B7D1AB970AE9268E0C81A8F82A1FFD1E86EB0083A5B7D11C3CC12EBC61F5FB0C57C07DA92F267520ED03C18B7D7AE1835502C29462D4EDF14FACC35EF8FCE3FF0119A78C81B7750000 , N'6.2.0-61023')

